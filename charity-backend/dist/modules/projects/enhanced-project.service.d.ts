import { Model, Types } from 'mongoose';
import { EnhancedProject } from '../../db/schemas/enhanced-project.schema';
import { CreateProjectDto } from './dto/create-project.dto';
import { UpdateProjectDto } from './dto/update-project.dto';
import { FilterProjectsDto } from './dto/filter-projects.dto';
import { ProjectMetricsDto } from './dto/project-metrics.dto';
import { Donation } from '../../db/schemas/donation.schema';
import { EnhancedUser } from '../../db/schemas/enhanced-user.schema';
import { ProjectStatus } from '../../db/schemas/enhanced-project.schema';
export declare class EnhancedProjectService {
    private projectModel;
    private userModel;
    private donationModel;
    constructor(projectModel: Model<EnhancedProject>, userModel: Model<EnhancedUser>, donationModel: Model<Donation>);
    create(createProjectDto: CreateProjectDto, createdBy: string): Promise<EnhancedProject>;
    findAll(filterDto: FilterProjectsDto, user: any): Promise<{
        projects: {
            donationStats: {
                totalAmount: any;
                donorCount: any;
                averageDonation: any;
                largestDonation: any;
                smallestDonation: any;
            };
            volunteerCount: number;
            progressPercentage: number;
            daysRemaining: number;
            fundingStatus: string;
            bannerPhotoUrl: string;
            imageGallery: string[];
            videoGallery: string[];
            contents: import("mongoose").FlattenMaps<{
                language_code: string;
                title: string;
                description: string;
                content: string;
                images: string[];
                videos: string[];
                documents: string[];
                tags?: string[] | undefined;
                metaDescription?: string | undefined;
                metaKeywords?: string | undefined;
            }>[];
            status: ProjectStatus;
            category: import("../../db/schemas/enhanced-project.schema").ProjectCategory;
            slug: string;
            targetAmount: number;
            currentAmount: number;
            currency: string;
            donorCount: number;
            startDate: Date;
            endDate: Date;
            actualEndDate?: Date | undefined;
            location: string;
            city: string;
            country: string;
            latitude?: number | undefined;
            longitude?: number | undefined;
            projectManager?: Types.ObjectId | undefined;
            teamMembers: Types.ObjectId[];
            volunteers: Types.ObjectId[];
            donors: Types.ObjectId[];
            beneficiariesCount: number;
            volunteerHours: number;
            completionPercentage: number;
            priority: string;
            isFeatured: boolean;
            isVisible: boolean;
            tags: string[];
            skills: string[];
            externalLinks: string[];
            websiteUrl?: string | undefined;
            socialMediaUrl?: string | undefined;
            contactEmail?: string | undefined;
            contactPhone?: string | undefined;
            documents: string[];
            reports: string[];
            certificates: string[];
            createdBy?: Types.ObjectId | undefined;
            updatedBy?: Types.ObjectId | undefined;
            approvedBy?: string | undefined;
            approvedAt?: Date | undefined;
            isDeleted: boolean;
            deletedAt?: Date | undefined;
            deletedBy?: Types.ObjectId | undefined;
            activityLog: import("mongoose").FlattenMaps<{
                action: string;
                description: string;
                userId: Types.ObjectId;
                timestamp: Date;
            }>[];
            _id: Types.ObjectId;
            __v: number;
        }[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            pages: number;
        };
    }>;
    findFeatured(limit?: number): Promise<{
        donationStats: {
            totalAmount: any;
            donorCount: any;
            averageDonation: any;
            largestDonation: any;
            smallestDonation: any;
        };
        volunteerCount: number;
        progressPercentage: number;
        bannerPhotoUrl: string;
        imageGallery: string[];
        videoGallery: string[];
        contents: import("mongoose").FlattenMaps<{
            language_code: string;
            title: string;
            description: string;
            content: string;
            images: string[];
            videos: string[];
            documents: string[];
            tags?: string[] | undefined;
            metaDescription?: string | undefined;
            metaKeywords?: string | undefined;
        }>[];
        status: ProjectStatus;
        category: import("../../db/schemas/enhanced-project.schema").ProjectCategory;
        slug: string;
        targetAmount: number;
        currentAmount: number;
        currency: string;
        donorCount: number;
        startDate: Date;
        endDate: Date;
        actualEndDate?: Date | undefined;
        location: string;
        city: string;
        country: string;
        latitude?: number | undefined;
        longitude?: number | undefined;
        projectManager?: Types.ObjectId | undefined;
        teamMembers: Types.ObjectId[];
        volunteers: Types.ObjectId[];
        donors: Types.ObjectId[];
        beneficiariesCount: number;
        volunteerHours: number;
        completionPercentage: number;
        priority: string;
        isFeatured: boolean;
        isVisible: boolean;
        tags: string[];
        skills: string[];
        externalLinks: string[];
        websiteUrl?: string | undefined;
        socialMediaUrl?: string | undefined;
        contactEmail?: string | undefined;
        contactPhone?: string | undefined;
        documents: string[];
        reports: string[];
        certificates: string[];
        createdBy?: Types.ObjectId | undefined;
        updatedBy?: Types.ObjectId | undefined;
        approvedBy?: string | undefined;
        approvedAt?: Date | undefined;
        isDeleted: boolean;
        deletedAt?: Date | undefined;
        deletedBy?: Types.ObjectId | undefined;
        activityLog: import("mongoose").FlattenMaps<{
            action: string;
            description: string;
            userId: Types.ObjectId;
            timestamp: Date;
        }>[];
        _id: Types.ObjectId;
        __v: number;
    }[]>;
    findNearby(latitude: number, longitude: number, radiusKm?: number): Promise<{
        distance: number;
        donationStats: {
            totalAmount: any;
            donorCount: any;
            averageDonation: any;
            largestDonation: any;
            smallestDonation: any;
        };
        volunteerCount: number;
        bannerPhotoUrl: string;
        imageGallery: string[];
        videoGallery: string[];
        contents: import("mongoose").FlattenMaps<{
            language_code: string;
            title: string;
            description: string;
            content: string;
            images: string[];
            videos: string[];
            documents: string[];
            tags?: string[] | undefined;
            metaDescription?: string | undefined;
            metaKeywords?: string | undefined;
        }>[];
        status: ProjectStatus;
        category: import("../../db/schemas/enhanced-project.schema").ProjectCategory;
        slug: string;
        targetAmount: number;
        currentAmount: number;
        currency: string;
        donorCount: number;
        startDate: Date;
        endDate: Date;
        actualEndDate?: Date | undefined;
        location: string;
        city: string;
        country: string;
        latitude?: number | undefined;
        longitude?: number | undefined;
        projectManager?: Types.ObjectId | undefined;
        teamMembers: Types.ObjectId[];
        volunteers: Types.ObjectId[];
        donors: Types.ObjectId[];
        beneficiariesCount: number;
        volunteerHours: number;
        completionPercentage: number;
        priority: string;
        isFeatured: boolean;
        isVisible: boolean;
        tags: string[];
        skills: string[];
        externalLinks: string[];
        websiteUrl?: string | undefined;
        socialMediaUrl?: string | undefined;
        contactEmail?: string | undefined;
        contactPhone?: string | undefined;
        documents: string[];
        reports: string[];
        certificates: string[];
        createdBy?: Types.ObjectId | undefined;
        updatedBy?: Types.ObjectId | undefined;
        approvedBy?: string | undefined;
        approvedAt?: Date | undefined;
        isDeleted: boolean;
        deletedAt?: Date | undefined;
        deletedBy?: Types.ObjectId | undefined;
        activityLog: import("mongoose").FlattenMaps<{
            action: string;
            description: string;
            userId: Types.ObjectId;
            timestamp: Date;
        }>[];
        _id: Types.ObjectId;
        __v: number;
    }[]>;
    findByUser(userId: string): Promise<{
        donationStats: {
            totalAmount: any;
            donorCount: any;
            averageDonation: any;
            largestDonation: any;
            smallestDonation: any;
        };
        volunteerCount: number;
        progressPercentage: number;
        userRole: string;
        bannerPhotoUrl: string;
        imageGallery: string[];
        videoGallery: string[];
        contents: import("mongoose").FlattenMaps<{
            language_code: string;
            title: string;
            description: string;
            content: string;
            images: string[];
            videos: string[];
            documents: string[];
            tags?: string[] | undefined;
            metaDescription?: string | undefined;
            metaKeywords?: string | undefined;
        }>[];
        status: ProjectStatus;
        category: import("../../db/schemas/enhanced-project.schema").ProjectCategory;
        slug: string;
        targetAmount: number;
        currentAmount: number;
        currency: string;
        donorCount: number;
        startDate: Date;
        endDate: Date;
        actualEndDate?: Date | undefined;
        location: string;
        city: string;
        country: string;
        latitude?: number | undefined;
        longitude?: number | undefined;
        projectManager?: Types.ObjectId | undefined;
        teamMembers: Types.ObjectId[];
        volunteers: Types.ObjectId[];
        donors: Types.ObjectId[];
        beneficiariesCount: number;
        volunteerHours: number;
        completionPercentage: number;
        priority: string;
        isFeatured: boolean;
        isVisible: boolean;
        tags: string[];
        skills: string[];
        externalLinks: string[];
        websiteUrl?: string | undefined;
        socialMediaUrl?: string | undefined;
        contactEmail?: string | undefined;
        contactPhone?: string | undefined;
        documents: string[];
        reports: string[];
        certificates: string[];
        createdBy?: Types.ObjectId | undefined;
        updatedBy?: Types.ObjectId | undefined;
        approvedBy?: string | undefined;
        approvedAt?: Date | undefined;
        isDeleted: boolean;
        deletedAt?: Date | undefined;
        deletedBy?: Types.ObjectId | undefined;
        activityLog: import("mongoose").FlattenMaps<{
            action: string;
            description: string;
            userId: Types.ObjectId;
            timestamp: Date;
        }>[];
        _id: Types.ObjectId;
        __v: number;
    }[]>;
    findOne(id: string): Promise<{
        donationStats: {
            totalAmount: any;
            donorCount: any;
            averageDonation: any;
            largestDonation: any;
            smallestDonation: any;
        };
        volunteerCount: number;
        recentDonations: (import("mongoose").FlattenMaps<{
            donor: Types.ObjectId;
            project?: Types.ObjectId | undefined;
            status: import("../../db/schemas/donation.schema").DonationStatus;
            type: import("../../db/schemas/donation.schema").DonationType;
            paymentMethod: import("../../db/schemas/donation.schema").PaymentMethod;
            amount: number;
            currency: string;
            exchangeRate: number;
            amountInUSD: number;
            transactionId?: string | undefined;
            paymentIntentId?: string | undefined;
            stripePaymentIntentId?: string | undefined;
            paypalOrderId?: string | undefined;
            bankReference?: string | undefined;
            recurringFrequency?: string | undefined;
            nextDonationDate?: Date | undefined;
            recurringEndDate?: Date | undefined;
            isRecurringActive?: boolean | undefined;
            isAnonymous: boolean;
            anonymousName?: string | undefined;
            isDedicated: boolean;
            dedicationRecipient?: string | undefined;
            dedicationMessage?: string | undefined;
            hasMatchingGift: boolean;
            matchingDonor?: Types.ObjectId | undefined;
            matchingAmount?: number | undefined;
            processingFee: number;
            platformFee: number;
            netAmount: number;
            isTaxDeductible: boolean;
            taxReceiptId?: string | undefined;
            taxReceiptIssuedAt?: Date | undefined;
            sendReceipt: boolean;
            sendThankYou: boolean;
            sendUpdates: boolean;
            donorNotes?: string | undefined;
            adminNotes?: string | undefined;
            refundedAt?: Date | undefined;
            refundedAmount?: number | undefined;
            refundReason?: string | undefined;
            refundedBy?: Types.ObjectId | undefined;
            paymentDetails?: {
                cardLast4?: string | undefined;
                cardBrand?: string | undefined;
                cardExpMonth?: number | undefined;
                cardExpYear?: number | undefined;
                bankName?: string | undefined;
                accountLast4?: string | undefined;
                email?: string | undefined;
            } | undefined;
            processedBy?: Types.ObjectId | undefined;
            processedAt?: Date | undefined;
            ipAddress?: string | undefined;
            userAgent?: string | undefined;
            isDeleted: boolean;
            deletedAt?: Date | undefined;
            deletedBy?: Types.ObjectId | undefined;
        }> & {
            _id: Types.ObjectId;
        } & {
            __v: number;
        })[];
        updates: never[];
        progressPercentage: number;
        daysRemaining: number;
        fundingStatus: string;
        bannerPhotoUrl: string;
        imageGallery: string[];
        videoGallery: string[];
        contents: import("mongoose").FlattenMaps<{
            language_code: string;
            title: string;
            description: string;
            content: string;
            images: string[];
            videos: string[];
            documents: string[];
            tags?: string[] | undefined;
            metaDescription?: string | undefined;
            metaKeywords?: string | undefined;
        }>[];
        status: ProjectStatus;
        category: import("../../db/schemas/enhanced-project.schema").ProjectCategory;
        slug: string;
        targetAmount: number;
        currentAmount: number;
        currency: string;
        donorCount: number;
        startDate: Date;
        endDate: Date;
        actualEndDate?: Date | undefined;
        location: string;
        city: string;
        country: string;
        latitude?: number | undefined;
        longitude?: number | undefined;
        projectManager?: Types.ObjectId | undefined;
        teamMembers: Types.ObjectId[];
        volunteers: Types.ObjectId[];
        donors: Types.ObjectId[];
        beneficiariesCount: number;
        volunteerHours: number;
        completionPercentage: number;
        priority: string;
        isFeatured: boolean;
        isVisible: boolean;
        tags: string[];
        skills: string[];
        externalLinks: string[];
        websiteUrl?: string | undefined;
        socialMediaUrl?: string | undefined;
        contactEmail?: string | undefined;
        contactPhone?: string | undefined;
        documents: string[];
        reports: string[];
        certificates: string[];
        createdBy?: Types.ObjectId | undefined;
        updatedBy?: Types.ObjectId | undefined;
        approvedBy?: string | undefined;
        approvedAt?: Date | undefined;
        isDeleted: boolean;
        deletedAt?: Date | undefined;
        deletedBy?: Types.ObjectId | undefined;
        activityLog: import("mongoose").FlattenMaps<{
            action: string;
            description: string;
            userId: Types.ObjectId;
            timestamp: Date;
        }>[];
        _id: Types.ObjectId;
        __v: number;
    }>;
    update(id: string, updateProjectDto: UpdateProjectDto, user: any): Promise<import("mongoose").Document<unknown, {}, EnhancedProject, {}, {}> & EnhancedProject & {
        _id: Types.ObjectId;
    } & {
        __v: number;
    }>;
    remove(id: string, deletedBy: string): Promise<import("mongoose").Document<unknown, {}, EnhancedProject, {}, {}> & EnhancedProject & {
        _id: Types.ObjectId;
    } & {
        __v: number;
    }>;
    addVolunteer(projectId: string, userId: string): Promise<{
        message: string;
    }>;
    removeVolunteer(projectId: string, userId: string): Promise<{
        message: string;
    }>;
    processDonation(projectId: string, donationData: any, userId: string): Promise<{
        donation: import("mongoose").Document<unknown, {}, Donation, {}, {}> & Donation & {
            _id: Types.ObjectId;
        } & {
            __v: number;
        };
        project: import("mongoose").Document<unknown, {}, EnhancedProject, {}, {}> & EnhancedProject & {
            _id: Types.ObjectId;
        } & {
            __v: number;
        };
    }>;
    getStatistics(metricsDto: ProjectMetricsDto): Promise<{
        overall: any;
        byCategory: any[];
        byStatus: any[];
        monthlyTrends: any[];
    }>;
    private generateUniqueSlug;
    private getDonationStats;
    private getVolunteerCount;
    private calculateProgress;
    private calculateDaysRemaining;
    private getFundingStatus;
    private calculateDistance;
    private getUserRoleInProject;
    private canUpdateProject;
    private getRecentDonations;
    private getProjectUpdates;
    getDonations(projectId: string, page: number, limit: number, user: any): Promise<{
        donations: (import("mongoose").FlattenMaps<{
            donor: Types.ObjectId;
            project?: Types.ObjectId | undefined;
            status: import("../../db/schemas/donation.schema").DonationStatus;
            type: import("../../db/schemas/donation.schema").DonationType;
            paymentMethod: import("../../db/schemas/donation.schema").PaymentMethod;
            amount: number;
            currency: string;
            exchangeRate: number;
            amountInUSD: number;
            transactionId?: string | undefined;
            paymentIntentId?: string | undefined;
            stripePaymentIntentId?: string | undefined;
            paypalOrderId?: string | undefined;
            bankReference?: string | undefined;
            recurringFrequency?: string | undefined;
            nextDonationDate?: Date | undefined;
            recurringEndDate?: Date | undefined;
            isRecurringActive?: boolean | undefined;
            isAnonymous: boolean;
            anonymousName?: string | undefined;
            isDedicated: boolean;
            dedicationRecipient?: string | undefined;
            dedicationMessage?: string | undefined;
            hasMatchingGift: boolean;
            matchingDonor?: Types.ObjectId | undefined;
            matchingAmount?: number | undefined;
            processingFee: number;
            platformFee: number;
            netAmount: number;
            isTaxDeductible: boolean;
            taxReceiptId?: string | undefined;
            taxReceiptIssuedAt?: Date | undefined;
            sendReceipt: boolean;
            sendThankYou: boolean;
            sendUpdates: boolean;
            donorNotes?: string | undefined;
            adminNotes?: string | undefined;
            refundedAt?: Date | undefined;
            refundedAmount?: number | undefined;
            refundReason?: string | undefined;
            refundedBy?: Types.ObjectId | undefined;
            paymentDetails?: {
                cardLast4?: string | undefined;
                cardBrand?: string | undefined;
                cardExpMonth?: number | undefined;
                cardExpYear?: number | undefined;
                bankName?: string | undefined;
                accountLast4?: string | undefined;
                email?: string | undefined;
            } | undefined;
            processedBy?: Types.ObjectId | undefined;
            processedAt?: Date | undefined;
            ipAddress?: string | undefined;
            userAgent?: string | undefined;
            isDeleted: boolean;
            deletedAt?: Date | undefined;
            deletedBy?: Types.ObjectId | undefined;
        }> & {
            _id: Types.ObjectId;
        } & {
            __v: number;
        })[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            pages: number;
        };
    }>;
    getVolunteers(projectId: string): Promise<Types.ObjectId[]>;
    addUpdate(projectId: string, updateData: any, userId: string): Promise<{
        message: string;
    }>;
    getUpdates(projectId: string): Promise<never[]>;
}
